[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Lochana Perera",
    "section": "",
    "text": "How to work with Lisette\n\n\n\n\n\n\n\n\nJan 15, 2024\n\n\n\n\n\n\n\nNice Conversation\n\n\n\n\n\n\n\n\nJan 15, 2024\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/post1.html",
    "href": "posts/post1.html",
    "title": "How to work with Lisette",
    "section": "",
    "text": "Quarto (abbreviated Qto, 4to or 4¬∫) is the format of a book or pamphlet produced from full sheets printed with eight pages of text, four to a side, then folded twice to produce four leaves. The leaves are then trimmed along the folds to produce eight book pages. Each printed page presents as one-fourth size of the full sheet.1\n1¬†If this is working that is really nice.The earliest known European printed book is a quarto, the Sibyllenbuch, believed to have been printed by Johannes Gutenberg in 1452‚Äì53, before the Gutenberg Bible, surviving only as a fragment. Quarto is also used as a general description of size of books that are about 12 inches (30 cm) tall, and as such does not necessarily indicate the actual printing format of the books, which may even be unknown, as is the case for many modern books. These terms are discussed in greater detail in book sizes.\n\n# this is a sample code block to reverse a list \n1def reverse_list(list):\n    if something_happens:\n        print('this happened')\n    else:\n        print('this happened becuase the other did not')\n\n\n1\n\nwill this code annotation work ? hardly"
  },
  {
    "objectID": "posts/post1.html#this-is-how-to-write-some-text-including-some-citations-as-sidenotes",
    "href": "posts/post1.html#this-is-how-to-write-some-text-including-some-citations-as-sidenotes",
    "title": "How to work with Lisette",
    "section": "",
    "text": "Quarto (abbreviated Qto, 4to or 4¬∫) is the format of a book or pamphlet produced from full sheets printed with eight pages of text, four to a side, then folded twice to produce four leaves. The leaves are then trimmed along the folds to produce eight book pages. Each printed page presents as one-fourth size of the full sheet.1\n1¬†If this is working that is really nice.The earliest known European printed book is a quarto, the Sibyllenbuch, believed to have been printed by Johannes Gutenberg in 1452‚Äì53, before the Gutenberg Bible, surviving only as a fragment. Quarto is also used as a general description of size of books that are about 12 inches (30 cm) tall, and as such does not necessarily indicate the actual printing format of the books, which may even be unknown, as is the case for many modern books. These terms are discussed in greater detail in book sizes.\n\n# this is a sample code block to reverse a list \n1def reverse_list(list):\n    if something_happens:\n        print('this happened')\n    else:\n        print('this happened becuase the other did not')\n\n\n1\n\nwill this code annotation work ? hardly"
  },
  {
    "objectID": "posts/post1.html#this-is-how-to-embed-an-image",
    "href": "posts/post1.html#this-is-how-to-embed-an-image",
    "title": "How to work with Lisette",
    "section": "This is how to embed an image",
    "text": "This is how to embed an image\n\n\n\nPro Tip: This dataset was cleaned using the Pandas library before ingestion."
  },
  {
    "objectID": "posts/post1.html#what-can-we-do-with-lisette-lib",
    "href": "posts/post1.html#what-can-we-do-with-lisette-lib",
    "title": "How to work with Lisette",
    "section": "What can we do with lisette lib",
    "text": "What can we do with lisette lib\n\nOverview\n\n\n\n\n\n\n\nFeature\nDescription\n\n\n\n\nDataBlock API\nA flexible, lego-like system to build datasets from scratch.\n\n\nlr_find()\nAutomatically plots loss vs.¬†learning rate to find the optimal hyperparameter.\n\n\nfine_tune()\nOne-line transfer learning method to adapt pre-trained models.\n\n\nOne-Cycle Policy\nA training schedule that varies learning rates for faster convergence.\n\n\nLayered API\nA hierarchy of APIs ranging from high-level defaults to pure PyTorch access.\n\n\n\n\n\n\n\nthis is the exact code-block used to render this table\n\n\n!uv pip list # this is how you look for what is installed in your environement\n\nImagine you need to write a simple tools(or fuctions).How can you do that ?. Here is how and it is so easy.\n\ndef adder(a:float,b:float):\n1    '''This adds two number a and b'''\n    return a + b     \n\n\n1\n\nyou always need to add a docstring.\n\n\n\n\n\n!uv pip install lisette -qq\n\n\nfrom litellm import (acompletion, completion, stream_chunk_builder, Message,\n                     ModelResponse, ModelResponseStream, get_model_info, register_model, Usage)\n\n\nfrom lisette import *\n\n\n!uv pip install ipywidgets\n\n\nUsing Python 3.12.8 environment at: /Users/lochana-mbp/q/.venv\n\nResolved 20 packages in 793ms                                        \n\nInstalled 3 packages in 17ms.0.16                           \n\n + ipywidgets==8.1.8\n\n + jupyterlab-widgets==3.0.16\n\n + widgetsnbextension==4.0.15\n\n\n\n\n\nimport os \nfrom dotenv import load_dotenv\n\n\nload_dotenv()\n\nTrue\n\n\n\nmodel = 'gemini/gemini-2.5-pro'\n\n\nc = Chat(model)\n\n\nres = c('What is the capital of Australia')\n\n\nfrom lisette.core import Chat\nfrom fastcore.utils import patch\nimport ipywidgets as widgets\nfrom IPython.display import display, clear_output\n\n@patch\ndef edit_last(self: Chat):\n    \"\"\"\n    Displays an interactive widget to edit the last message in history.\n    Updates the Chat history in-place upon clicking 'Update'.\n    \"\"\"\n    if not self.hist:\n        print(\"No history to edit.\")\n        return\n\n    # 1. Get the last message object\n    last_msg = self.hist[-1]\n    \n    # 2. Extract current content safely (handle dict vs object)\n    if isinstance(last_msg, dict):\n        current_content = last_msg.get('content', '')\n    else:\n        # It is a litellm Message object\n        current_content = getattr(last_msg, 'content', '')\n        \n    # Guard against non-text content (like tool calls or images)\n    if not isinstance(current_content, str):\n        print(f\"Cannot edit content type: {type(current_content)}\")\n        return\n\n    # 3. Create Widgets\n    textarea = widgets.Textarea(\n        value=current_content,\n        placeholder='Type something...',\n        description='Edit:',\n        layout=widgets.Layout(width='100%', height='200px')\n    )\n    \n    save_btn = widgets.Button(\n        description='Update History',\n        button_style='success', # 'success', 'info', 'warning', 'danger' or ''\n        icon='check'\n    )\n    \n    out_log = widgets.Output()\n\n    # 4. Define Save Action\n    def on_save(_):\n        new_text = textarea.value\n        \n        # Update the history object in-place\n        if isinstance(last_msg, dict):\n            last_msg['content'] = new_text\n        else:\n            last_msg.content = new_text\n            \n        with out_log:\n            clear_output()\n            print(\"‚úÖ History updated successfully!\")\n            \n    save_btn.on_click(on_save)\n\n    # 5. Display\n    display(widgets.VBox([textarea, save_btn, out_log]))\n\n\nfrom litellm import (acompletion, completion, stream_chunk_builder, Message,\n                     ModelResponse, ModelResponseStream, get_model_info, register_model, Usage)\n\n\nfrom IPython.display import Markdown, Image\n\n\nfrom litellm import ModelResponse\n\n\ndef _response(self: litellm.ModelResponse):\n    response = self.model_dump.get('choices')[0]['message']['content']\n    return response\n\n\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\nCell In[90], line 1\n----&gt; 1 def _response(self: litellm.ModelResponse):\n      2     response = self.model_dump.get('choices')[0]['message']['content']\n      3     return response\n\nNameError: name 'litellm' is not defined\n\n\n\n\nres.model_dump()\n\n{'id': '6BsxabbaJoGL4-EP146qiQE',\n 'created': 1764826083,\n 'model': 'gemini-2.5-pro',\n 'object': 'chat.completion',\n 'system_fingerprint': None,\n 'choices': [{'finish_reason': 'stop',\n   'index': 0,\n   'message': {'content': \"The capital of Australia is **Canberra**.\\n\\nA common misconception is that it's Sydney or Melbourne, as they are the country's largest and most well-known cities. However, Canberra was chosen as a compromise between these two rivals in 1908.\",\n    'role': 'assistant',\n    'tool_calls': None,\n    'function_call': None,\n    'images': [],\n    'thinking_blocks': [],\n    'provider_specific_fields': None}}],\n 'usage': {'completion_tokens': 520,\n  'prompt_tokens': 7,\n  'total_tokens': 527,\n  'completion_tokens_details': {'accepted_prediction_tokens': None,\n   'audio_tokens': None,\n   'reasoning_tokens': 464,\n   'rejected_prediction_tokens': None,\n   'text_tokens': 56,\n   'image_tokens': None},\n  'prompt_tokens_details': {'audio_tokens': None,\n   'cached_tokens': None,\n   'text_tokens': 7,\n   'image_tokens': None}},\n 'vertex_ai_grounding_metadata': [],\n 'vertex_ai_url_context_metadata': [],\n 'vertex_ai_safety_results': [],\n 'vertex_ai_citation_metadata': []}\n\n\n\nmodel_dump = res.model_dump()\ny =model_dump.get('choices')[0]['message']['content']\ny\n\n\"The capital of Australia is **Canberra**.\\n\\nA common misconception is that it's Sydney or Melbourne, as they are the country's largest and most well-known cities. However, Canberra was chosen as a compromise between these two rivals in 1908.\"\n\n\n\ndir(res)\n\n['__abstractmethods__',\n '__annotations__',\n '__class__',\n '__class_getitem__',\n '__class_vars__',\n '__contains__',\n '__copy__',\n '__deepcopy__',\n '__delattr__',\n '__dict__',\n '__dir__',\n '__doc__',\n '__eq__',\n '__fields__',\n '__fields_set__',\n '__format__',\n '__ge__',\n '__get_pydantic_core_schema__',\n '__get_pydantic_json_schema__',\n '__getattr__',\n '__getattribute__',\n '__getitem__',\n '__getstate__',\n '__gt__',\n '__hash__',\n '__init__',\n '__init_subclass__',\n '__iter__',\n '__le__',\n '__lt__',\n '__module__',\n '__ne__',\n '__new__',\n '__pretty__',\n '__private_attributes__',\n '__pydantic_complete__',\n '__pydantic_computed_fields__',\n '__pydantic_core_schema__',\n '__pydantic_custom_init__',\n '__pydantic_decorators__',\n '__pydantic_extra__',\n '__pydantic_fields__',\n '__pydantic_fields_set__',\n '__pydantic_generic_metadata__',\n '__pydantic_init_subclass__',\n '__pydantic_on_complete__',\n '__pydantic_parent_namespace__',\n '__pydantic_post_init__',\n '__pydantic_private__',\n '__pydantic_root_model__',\n '__pydantic_serializer__',\n '__pydantic_setattr_handlers__',\n '__pydantic_validator__',\n '__reduce__',\n '__reduce_ex__',\n '__replace__',\n '__repr__',\n '__repr_args__',\n '__repr_name__',\n '__repr_recursion__',\n '__repr_str__',\n '__rich_repr__',\n '__setattr__',\n '__setstate__',\n '__signature__',\n '__sizeof__',\n '__slots__',\n '__str__',\n '__subclasshook__',\n '__weakref__',\n '_abc_impl',\n '_calculate_keys',\n '_copy_and_set_values',\n '_get_value',\n '_iter',\n '_repr_markdown_',\n '_response_ms',\n '_setattr_handler',\n 'choices',\n 'construct',\n 'copy',\n 'created',\n 'dict',\n 'from_orm',\n 'get',\n 'id',\n 'json',\n 'model',\n 'model_computed_fields',\n 'model_config',\n 'model_construct',\n 'model_copy',\n 'model_dump',\n 'model_dump_json',\n 'model_extra',\n 'model_fields',\n 'model_fields_set',\n 'model_json_schema',\n 'model_parametrized_name',\n 'model_post_init',\n 'model_rebuild',\n 'model_validate',\n 'model_validate_json',\n 'model_validate_strings',\n 'object',\n 'parse_file',\n 'parse_obj',\n 'parse_raw',\n 'schema',\n 'schema_json',\n 'system_fingerprint',\n 'to_dict',\n 'to_json',\n 'update_forward_refs',\n 'validate']\n\n\n\nlist_of_choices\n\n[{'finish_reason': 'stop',\n  'index': 0,\n  'message': {'content': \"The capital of Australia is **Canberra**.\\n\\nA common misconception is that it's Sydney or Melbourne, as they are the country's largest and most well-known cities. However, Canberra was chosen as a compromise between these two rivals in 1908.\",\n   'role': 'assistant',\n   'tool_calls': None,\n   'function_call': None,\n   'images': [],\n   'thinking_blocks': [],\n   'provider_specific_fields': None}}]\n\n\n\nk = Chat(model)\n\n\nres = k('what is the capital of sri lanka')\n\n\nres.hist\n\n\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\nCell In[100], line 1\n----&gt; 1 res.hist\n\nFile ~/q/.venv/lib/python3.12/site-packages/pydantic/main.py:1026, in BaseModel.__getattr__(self, item)\n   1023     return super().__getattribute__(item)  # Raises AttributeError if appropriate\n   1024 else:\n   1025     # this is the current error\n-&gt; 1026     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n\nAttributeError: 'ModelResponse' object has no attribute 'hist'"
  },
  {
    "objectID": "posts/post1.html#import-cachy",
    "href": "posts/post1.html#import-cachy",
    "title": "How to work with Lisette",
    "section": "Import Cachy",
    "text": "Import Cachy\n\nfrom cachy import enable_cachy\nenable_cachy()\n\n\nres = c('This is nice,can you tell me a joke?')\nres\n\nOf course!\nWhy don‚Äôt scientists trust atoms?\n‚Ä¶Because they make up everything! üòÑ\n\n\nid: YbwwaeaPMd7ijuMPrIGt2A0\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=556, prompt_tokens=25, total_tokens=581, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=535, rejected_prediction_tokens=None, text_tokens=21, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=25, image_tokens=None))"
  },
  {
    "objectID": "posts/post1.html#ok-now-if-we-try-to-do-the-same-prompt-again-what-would-happen",
    "href": "posts/post1.html#ok-now-if-we-try-to-do-the-same-prompt-again-what-would-happen",
    "title": "How to work with Lisette",
    "section": "Ok now if we try to do the same prompt again what would happen?",
    "text": "Ok now if we try to do the same prompt again what would happen?\n\nres_2 = c('This is nice,can you tell me a joke?')\nres_2\n\nGlad you liked it! Here‚Äôs another one for you:\nWhat do you call a fake noodle?\n‚Ä¶An impasta! üòâ\n\n\nid: srwwafe4EofKg8UPjvDlkQ4\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=544, prompt_tokens=59, total_tokens=603, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=515, rejected_prediction_tokens=None, text_tokens=29, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=59, image_tokens=None))\n\n\n\n\nI think you need patch_litellm()\n\npatch_litellm()\n\n\nfirst = c('Tell me about Sri Lanka')\n\n\nfirst\n\nOf course! Sri Lanka is a fascinating and beautiful country with a rich history and diverse culture. Here‚Äôs a comprehensive overview for you.\n\nAn Introduction to Sri Lanka\nOften called the ‚ÄúPearl of the Indian Ocean‚Äù or the ‚ÄúResplendent Isle,‚Äù Sri Lanka is a teardrop-shaped island nation located just south of India. It‚Äôs a country of incredible diversity packed into a relatively small area. You can go from sun-drenched beaches to cool, misty mountains covered in tea plantations in just a few hours.\n\n\n\nKey Aspects of Sri Lanka\n\n1. Geography and Nature\n\nDiverse Landscapes: The coastal belt is lined with stunning beaches and lagoons. The interior features a central highland region with mountains, waterfalls, and vast tea estates. The northern and eastern parts are flatter and drier.\nIncredible Wildlife: Sri Lanka is one of the world‚Äôs top biodiversity hotspots. It‚Äôs famous for its large population of Asian elephants, which can be seen in national parks like Udawalawe and Minneriya. It‚Äôs also one of the best places in the world to spot leopards (in Yala National Park) and blue whales (off the southern coast near Mirissa).\nNational Parks: The country has numerous protected areas, including Sinharaja Forest Reserve, a UNESCO World Heritage Site and the last viable area of primary tropical rainforest in the country.\n\n\n\n2. History and Culture\n\nAncient Roots: Sri Lanka has a documented history of over 2,500 years. The ancient cities of Anuradhapura and Polonnaruwa were magnificent capitals with enormous stupas (dome-shaped Buddhist shrines) and advanced irrigation systems.\nThe Cultural Triangle: This area in the center of the country is home to several UNESCO World Heritage Sites, including:\n\nSigiriya Rock Fortress: An ancient palace and fortress built atop a massive rock column, famous for its stunning frescoes.\nDambulla Cave Temple: A complex of caves filled with hundreds of Buddha statues and intricate paintings.\nThe Sacred City of Kandy: Home to the Temple of the Tooth Relic, which houses a sacred tooth of the Buddha.\n\nColonial Influence: The island was colonized by the Portuguese, Dutch, and finally the British, who introduced tea cultivation on a massive scale. This colonial past is visible in the architecture of cities like Galle, with its famous Dutch Fort.\nPeople and Religion: The majority of the population is Sinhalese (mostly Buddhist), with a significant Tamil minority (mostly Hindu). There are also Muslim and Christian communities. This mix of cultures makes for a vibrant tapestry of festivals, traditions, and languages (Sinhala and Tamil are the official languages).\n\n\n\n3. The Economy and Famous Exports\n\nCeylon Tea: Sri Lanka (formerly known as Ceylon) is one of the world‚Äôs largest tea exporters. A visit to the hill country isn‚Äôt complete without a tour of a tea plantation.\nSpices: The island has been a hub for the spice trade for centuries. It‚Äôs famous for its high-quality cinnamon, as well as cloves, nutmeg, and pepper.\nGems: Known as the ‚ÄúGem Island,‚Äù Sri Lanka is a source of beautiful sapphires, rubies, and other precious stones.\nTourism: Tourism is a vital part of the economy, attracting visitors with its blend of nature, culture, adventure, and wellness.\n\n\n\n4. Food\nSri Lankan cuisine is a treat! It‚Äôs known for its vibrant colors and rich, spicy flavors. * Rice and Curry: This is the national dish, but it‚Äôs not just one curry. It‚Äôs a plate of rice served with a variety of small, flavorful dishes made from vegetables, meat, or fish, often using coconut milk and a unique blend of spices. * Kottu Roti: A popular street food made from chopped flatbread, vegetables, egg, and/or meat, all stir-fried on a hot griddle with a rhythmic clanging of metal blades. * Hoppers (Appa): Bowl-shaped pancakes made from fermented rice flour and coconut milk. They are crispy on the edges and soft in the center, often served with an egg cooked inside (Egg Hopper). * String Hoppers (Idiyappam): Steamed nests of rice flour noodles, usually eaten for breakfast with a coconut sambol and curry.\n\n\n\n\nRecent History\nIt‚Äôs also important to acknowledge that Sri Lanka has faced significant challenges. The country endured a long and painful civil war from 1983 to 2009. In recent years, it has also faced economic difficulties. Despite these hardships, the people are known for their resilience, warmth, and hospitality.\nIn short, Sri Lanka is a land of contrasts and immense beauty, offering everything from ancient history and spiritual sites to thrilling wildlife safaris and relaxing beach holidays.\n\n\nid: chatcmpl-xxx\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=2564, prompt_tokens=95, total_tokens=2659, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=1471, rejected_prediction_tokens=None, text_tokens=1093, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=95, image_tokens=None))\n\n\n\n\n\n\n# now let's see how cached response work \ncached_response = c('Tell me about Sri Lanka')\ncached_response\n\nYou got it! Since we‚Äôve covered the general overview, let‚Äôs dive into some of the most unique and fascinating facts about Sri Lanka.\nHere are some things that make the island truly special:\n1. The Origin of the Word ‚ÄúSerendipity‚Äù The English word ‚Äúserendipity,‚Äù which means a fortunate or happy accident, comes from Serendib, an old Arabic name for Sri Lanka. The term was coined by Horace Walpole in 1754, inspired by a Persian fairy tale about three princes from Serendib who were always making discoveries by accident.\n2. Home to the World‚Äôs First Female Prime Minister In 1960, Sri Lanka (then Ceylon) made history when Sirimavo Bandaranaike became the world‚Äôs first-ever female head of government.\n3. The National Flag is One of the Oldest in the World The Sri Lankan flag is rich with symbolism. The golden lion represents the Sinhalese people, the four Bo leaves in the corners represent the four Buddhist virtues, and the orange and green stripes represent the Tamil and Muslim minorities, respectively.\n4. It‚Äôs the True Home of Cinnamon While many countries use cinnamon, the ‚Äútrue cinnamon‚Äù (Cinnamomum verum) is native to Sri Lanka. For centuries, the island was the world‚Äôs primary source, making it a priceless hub for spice traders.\n5. The National Sport Isn‚Äôt Cricket Although cricket is wildly popular and the country has a world-class team, the official national sport of Sri Lanka is actually volleyball.\n6. A Haven for Elephants Sri Lanka has the highest density of wild Asian elephants in the world. Every year, hundreds of elephants gather at the Minneriya National Park in an event known as ‚ÄúThe Gathering,‚Äù which is the largest meeting of Asian elephants on the planet.\n7. The Sacred Tooth of the Buddha The city of Kandy is home to the Sri Dalada Maligawa (Temple of the Sacred Tooth Relic). This temple houses what is believed to be a real tooth of the Buddha, making it one of the most sacred pilgrimage sites for Buddhists worldwide.\n8. A Very High Literacy Rate Despite its economic challenges, Sri Lanka boasts one of the highest literacy rates in South Asia, at over 92%. Education is highly valued in the culture.\nIs there any of these points you‚Äôd find interesting to explore further? For example, we could talk more about the history of the spice trade or the significance of the Temple of the Tooth.\n\n\nid: chatcmpl-xxx\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=1617, prompt_tokens=1677, total_tokens=3294, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=1068, rejected_prediction_tokens=None, text_tokens=549, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=1677, image_tokens=None))\n\n\n\n\n\ndir(Chat)\n\n['__call__',\n '__class__',\n '__delattr__',\n '__dict__',\n '__dir__',\n '__doc__',\n '__eq__',\n '__format__',\n '__ge__',\n '__getattribute__',\n '__getstate__',\n '__gt__',\n '__hash__',\n '__init__',\n '__init_subclass__',\n '__le__',\n '__lt__',\n '__module__',\n '__ne__',\n '__new__',\n '__reduce__',\n '__reduce_ex__',\n '__repr__',\n '__setattr__',\n '__sizeof__',\n '__str__',\n '__subclasshook__',\n '__weakref__',\n '_call',\n '_prep_msg',\n 'print_hist']\n\n\n\ndisplay(c.print_hist())\n\n{'role': 'user', 'content': 'hey'}\n\nMessage(content='Hey there! How can I help you today?', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None)\n\n{'role': 'user', 'content': 'This is nice,can you tell me a joke?'}\n\nMessage(content=\"Of course!\\n\\nWhy don't scientists trust atoms?\\n\\n...Because they make up everything! üòÑ\", role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None)\n\n{'role': 'user', 'content': 'This is nice,can you tell me a joke?'}\n\nMessage(content=\"Glad you liked it! Here's another one for you:\\n\\nWhat do you call a fake noodle?\\n\\n...An impasta! üòâ\", role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None)\n\n{'role': 'user', 'content': 'Tell me about Sri Lanka'}\n\nMessage(content='Of course! Sri Lanka is a fascinating and beautiful country with a rich history and diverse culture. Here‚Äôs a comprehensive overview for you.\\n\\n### **An Introduction to Sri Lanka**\\n\\nOften called the **\"Pearl of the Indian Ocean\"** or the **\"Resplendent Isle,\"** Sri Lanka is a teardrop-shaped island nation located just south of India. It\\'s a country of incredible diversity packed into a relatively small area. You can go from sun-drenched beaches to cool, misty mountains covered in tea plantations in just a few hours.\\n\\n---\\n\\n### **Key Aspects of Sri Lanka**\\n\\n#### **1. Geography and Nature**\\n*   **Diverse Landscapes:** The coastal belt is lined with stunning beaches and lagoons. The interior features a central highland region with mountains, waterfalls, and vast tea estates. The northern and eastern parts are flatter and drier.\\n*   **Incredible Wildlife:** Sri Lanka is one of the world\\'s top biodiversity hotspots. It\\'s famous for its large population of **Asian elephants**, which can be seen in national parks like Udawalawe and Minneriya. It\\'s also one of the best places in the world to spot **leopards** (in Yala National Park) and **blue whales** (off the southern coast near Mirissa).\\n*   **National Parks:** The country has numerous protected areas, including Sinharaja Forest Reserve, a UNESCO World Heritage Site and the last viable area of primary tropical rainforest in the country.\\n\\n#### **2. History and Culture**\\n*   **Ancient Roots:** Sri Lanka has a documented history of over 2,500 years. The ancient cities of **Anuradhapura** and **Polonnaruwa** were magnificent capitals with enormous stupas (dome-shaped Buddhist shrines) and advanced irrigation systems.\\n*   **The Cultural Triangle:** This area in the center of the country is home to several UNESCO World Heritage Sites, including:\\n    *   **Sigiriya Rock Fortress:** An ancient palace and fortress built atop a massive rock column, famous for its stunning frescoes.\\n    *   **Dambulla Cave Temple:** A complex of caves filled with hundreds of Buddha statues and intricate paintings.\\n    *   **The Sacred City of Kandy:** Home to the Temple of the Tooth Relic, which houses a sacred tooth of the Buddha.\\n*   **Colonial Influence:** The island was colonized by the Portuguese, Dutch, and finally the British, who introduced tea cultivation on a massive scale. This colonial past is visible in the architecture of cities like **Galle**, with its famous Dutch Fort.\\n*   **People and Religion:** The majority of the population is **Sinhalese** (mostly Buddhist), with a significant **Tamil** minority (mostly Hindu). There are also Muslim and Christian communities. This mix of cultures makes for a vibrant tapestry of festivals, traditions, and languages (Sinhala and Tamil are the official languages).\\n\\n#### **3. The Economy and Famous Exports**\\n*   **Ceylon Tea:** Sri Lanka (formerly known as Ceylon) is one of the world\\'s largest tea exporters. A visit to the hill country isn\\'t complete without a tour of a tea plantation.\\n*   **Spices:** The island has been a hub for the spice trade for centuries. It\\'s famous for its high-quality **cinnamon**, as well as cloves, nutmeg, and pepper.\\n*   **Gems:** Known as the \"Gem Island,\" Sri Lanka is a source of beautiful sapphires, rubies, and other precious stones.\\n*   **Tourism:** Tourism is a vital part of the economy, attracting visitors with its blend of nature, culture, adventure, and wellness.\\n\\n#### **4. Food**\\nSri Lankan cuisine is a treat! It\\'s known for its vibrant colors and rich, spicy flavors.\\n*   **Rice and Curry:** This is the national dish, but it\\'s not just one curry. It\\'s a plate of rice served with a variety of small, flavorful dishes made from vegetables, meat, or fish, often using coconut milk and a unique blend of spices.\\n*   **Kottu Roti:** A popular street food made from chopped flatbread, vegetables, egg, and/or meat, all stir-fried on a hot griddle with a rhythmic clanging of metal blades.\\n*   **Hoppers (Appa):** Bowl-shaped pancakes made from fermented rice flour and coconut milk. They are crispy on the edges and soft in the center, often served with an egg cooked inside (**Egg Hopper**).\\n*   **String Hoppers (Idiyappam):** Steamed nests of rice flour noodles, usually eaten for breakfast with a coconut sambol and curry.\\n\\n---\\n\\n### **Recent History**\\n\\nIt\\'s also important to acknowledge that Sri Lanka has faced significant challenges. The country endured a long and painful civil war from 1983 to 2009. In recent years, it has also faced economic difficulties. Despite these hardships, the people are known for their resilience, warmth, and hospitality.\\n\\nIn short, Sri Lanka is a land of contrasts and immense beauty, offering everything from ancient history and spiritual sites to thrilling wildlife safaris and relaxing beach holidays.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None)\n\n{'role': 'user', 'content': 'Tell me about Sri Lanka'}\n\nMessage(content='Of course! We just touched on it, but I can give you a more focused summary or dive deeper into a specific area.\\n\\nHere\\'s a quick, \"at-a-glance\" look at Sri Lanka:\\n\\n**Sri Lanka: The Essentials**\\n\\n*   **Nickname:** The Pearl of the Indian Ocean.\\n*   **Location:** An island nation in the Indian Ocean, southeast of India.\\n*   **Capital Cities:**\\n    *   **Colombo:** The commercial and largest city.\\n    *   **Sri Jayawardenepura Kotte:** The official administrative capital.\\n*   **People:** A diverse mix of cultures, primarily the Sinhalese (mostly Buddhist) and Tamils (mostly Hindu), with significant Muslim and Christian communities.\\n\\n**What is Sri Lanka Famous For?**\\n\\n1.  **The Cultural Triangle:** This is the historical heart of the country, home to incredible UNESCO World Heritage sites like the **Sigiriya Rock Fortress**, the ancient cities of **Anuradhapura** and **Polonnaruwa**, and the **Dambulla Cave Temples**.\\n\\n2.  **Ceylon Tea:** The cool, misty hill country around cities like Nuwara Eliya and Ella is covered in lush green tea plantations. Sri Lanka is one of the world\\'s top tea producers.\\n\\n3.  **Incredible Wildlife:** It\\'s one of the best places in Asia for wildlife safaris. You can see huge herds of elephants in **Udawalawe National Park**, leopards in **Yala National Park**, and blue whales off the coast of **Mirissa**.\\n\\n4.  **Beautiful Beaches:** The coastline is lined with golden-sand beaches, from the bustling surf spots in the south (like Weligama and Hikkaduwa) to the more tranquil shores of the east coast (like Trincomalee and Arugam Bay).\\n\\n5.  **Delicious Food:** The cuisine is famous for its aromatic spices. The staple dish is **rice and curry**, but street food like **kottu roti** (chopped flatbread stir-fry) is a must-try.\\n\\nIs there a particular part of that you\\'d like to know more about? For example, are you interested in travel tips, its history, the food, or its wildlife?', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None)\n\n{'role': 'user', 'content': 'Tell me about Sri Lanka'}\n\nMessage(content='You got it! Since we\\'ve covered the general overview, let\\'s dive into some of the most unique and fascinating facts about Sri Lanka.\\n\\nHere are some things that make the island truly special:\\n\\n**1. The Origin of the Word \"Serendipity\"**\\nThe English word \"serendipity,\" which means a fortunate or happy accident, comes from *Serendib*, an old Arabic name for Sri Lanka. The term was coined by Horace Walpole in 1754, inspired by a Persian fairy tale about three princes from Serendib who were always making discoveries by accident.\\n\\n**2. Home to the World\\'s First Female Prime Minister**\\nIn 1960, Sri Lanka (then Ceylon) made history when Sirimavo Bandaranaike became the world\\'s first-ever female head of government.\\n\\n**3. The National Flag is One of the Oldest in the World**\\nThe Sri Lankan flag is rich with symbolism. The golden lion represents the Sinhalese people, the four Bo leaves in the corners represent the four Buddhist virtues, and the orange and green stripes represent the Tamil and Muslim minorities, respectively.\\n\\n**4. It\\'s the True Home of Cinnamon**\\nWhile many countries use cinnamon, the \"true cinnamon\" (*Cinnamomum verum*) is native to Sri Lanka. For centuries, the island was the world\\'s primary source, making it a priceless hub for spice traders.\\n\\n**5. The National Sport Isn\\'t Cricket**\\nAlthough cricket is wildly popular and the country has a world-class team, the official national sport of Sri Lanka is actually **volleyball**.\\n\\n**6. A Haven for Elephants**\\nSri Lanka has the highest density of wild Asian elephants in the world. Every year, hundreds of elephants gather at the Minneriya National Park in an event known as \"The Gathering,\" which is the largest meeting of Asian elephants on the planet.\\n\\n**7. The Sacred Tooth of the Buddha**\\nThe city of Kandy is home to the *Sri Dalada Maligawa* (Temple of the Sacred Tooth Relic). This temple houses what is believed to be a real tooth of the Buddha, making it one of the most sacred pilgrimage sites for Buddhists worldwide.\\n\\n**8. A Very High Literacy Rate**\\nDespite its economic challenges, Sri Lanka boasts one of the highest literacy rates in South Asia, at over 92%. Education is highly valued in the culture.\\n\\nIs there any of these points you\\'d find interesting to explore further? For example, we could talk more about the history of the spice trade or the significance of the Temple of the Tooth.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None)\n\n\n\nNone\n\n\n\npatch_litellm(seed=42)\npr = 'tell me a joke'\n\n\nj = Chat(model)\nfirst_joke = j(pr)\nfirst_joke\n\nWhy don‚Äôt scientists trust atoms?\nBecause they make up everything\n\n\nid: chatcmpl-xxx\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=556, prompt_tokens=5, total_tokens=561, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=542, rejected_prediction_tokens=None, text_tokens=14, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=5, image_tokens=None))\n\n\n\n\n\nsecond_joke = j(pr)\nsecond_joke\n\nI‚Äôm reading a book on anti-gravity.\nIt‚Äôs impossible to put down\n\n\nid: chatcmpl-xxx\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=788, prompt_tokens=25, total_tokens=813, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=769, rejected_prediction_tokens=None, text_tokens=19, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=25, image_tokens=None))"
  },
  {
    "objectID": "posts/post2.html",
    "href": "posts/post2.html",
    "title": "Nice Conversation",
    "section": "",
    "text": "from lisette import *\nimport os \nfrom dotenv import load_dotenv\nload_dotenv()\nfrom cachy import enable_cachy, disable_cachy\n\n\nimport ipywidgets as widgets\nfrom IPython.display import display\n\n\nEnabling Caching\n\nenable_cachy()\n\n\n\nSelecting the model\n\nm = 'gemini/gemini-2.5-pro'\n\n\n\nInstantiating the chat completion instance with a varible prompt\n\npr = 'what is the capital of Tanzania'\n\n\nc = Chat(m)\n\n\nc(pr)\n\nVenison‚Äôs dear, isn‚Äôt it?\n\n\nid: ZksxabmSFYejjuMP0IOTuQE\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=1111, prompt_tokens=6, total_tokens=1117, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=1100, rejected_prediction_tokens=None, text_tokens=11, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=6, image_tokens=None))\n\n\n\n\n\ntanzania_capital = c(pr)\n\n\nc.hist[-1].content\n\n\"The official capital of Tanzania is **Dodoma**.\\n\\nHowever, **Dar es Salaam** is the country's largest city and main economic hub, and it's where most government offices and foreign embassies are located. For this reason, it is often considered the administrative capital.\"\n\n\n\ndef update(self,new_message):\n    self.hist[-1].content = new_message\n    \n\n\nupdate(c,'My name is Lochana')\n\n\nc.print_hist()\n\n{'role': 'user', 'content': 'tell me the shortest joke'}\n\nMessage(content=\"Venison's dear, isn't it?\", role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None)\n\n{'role': 'user', 'content': 'tell me the shortest joke'}\n\nMessage(content='Dwarf shortage.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None)\n\n{'role': 'user', 'content': 'tell me the shortest joke'}\n\nMessage(content='i.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None)\n\n{'role': 'user', 'content': 'what is the capital of Tanzania'}\n\nMessage(content='My name is Lochana', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None)\n\n\n\n\nc.hist[-4]['content'] = 'I will answer to this question with my name'\n\n\nc.hist\n\n[{'role': 'user', 'content': 'My age is 35 years'},\n Message(content='The guy you are talking to is talking about his age', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'tell me the shortest joke'},\n Message(content='Dwarf shortage.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'tell me the shortest joke'},\n Message(content='i.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'I will answer to this question with my name'},\n Message(content='My name is Lochana', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'what is my name'},\n {'role': 'assistant', 'content': 'what is my name'},\n Message(content=None, role='assistant', tool_calls=None, function_call=None, provider_specific_fields=None),\n {'role': 'user',\n  'content': 'tell me my name I have give you that information'},\n Message(content='Based on our conversation, your name is Lochana.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'tell me about my age and how did you infer it '},\n Message(content='Based on our conversation, you are **35 years old**.\\n\\nI know this because it was the very first thing you told me. Your first message in this chat was: \"My age is 35 years\".', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user',\n  'content': 'where can i find the the file ara.jepg use the tools provided'},\n {'role': 'assistant',\n  'content': 'where can i find the the file ara.jepg use the tools provided'},\n {'role': 'user',\n  'content': 'where can i find the the file ara.jepg use the tools provided'}]\n\n\n\ndel c.hist[-1]\n\n\nc.hist\n\n[{'role': 'user', 'content': 'tell me the shortest joke'},\n Message(content=\"Venison's dear, isn't it?\", role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'tell me the shortest joke'},\n Message(content='Dwarf shortage.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'tell me the shortest joke'},\n Message(content='i.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'I will answer to this question with my name'},\n Message(content='My name is Lochana', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'what is my name'}]\n\n\n\nc('what is my name')\n\nMessage(content=None, role=‚Äòassistant‚Äô, tool_calls=None, function_call=None, provider_specific_fields=None)\n\n\nid: JWUxafmlFMC1juMP-OyJ0Q8\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=0, prompt_tokens=64, total_tokens=64, completion_tokens_details=None, prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=64, image_tokens=None))\n\n\n\n\n\nc.hist\n\n[{'role': 'user', 'content': 'tell me the shortest joke'},\n Message(content=\"Venison's dear, isn't it?\", role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'tell me the shortest joke'},\n Message(content='Dwarf shortage.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'tell me the shortest joke'},\n Message(content='i.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'I will answer to this question with my name'},\n Message(content='My name is Lochana', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'what is my name'},\n {'role': 'assistant', 'content': 'what is my name'},\n Message(content=None, role='assistant', tool_calls=None, function_call=None, provider_specific_fields=None)]\n\n\n\nc('tell me my name I have give you that information')\n\nBased on our conversation, your name is Lochana.\n\n\nid: Z2UxafHNNumP4-EPpvnMuQE\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=768, prompt_tokens=75, total_tokens=843, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=757, rejected_prediction_tokens=None, text_tokens=11, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=75, image_tokens=None))\n\n\n\n\n\nc.hist[0]['content'] = 'My age is 35 years'\nc.hist[1]\n\nMessage(content='The guy you are talking to is talking about his age', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None)\n\n\n\nc.hist[1].content = 'The guy you are talking to is talking about his age'\n\n\nc('tell me about my age and how did you infer it ')\n\nBased on our conversation, you are 35 years old.\nI know this because it was the very first thing you told me. Your first message in this chat was: ‚ÄúMy age is 35 years‚Äù.\n\n\nid: KmYxaf3RF4fKg8UPjvDlkQ4\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=915, prompt_tokens=102, total_tokens=1017, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=870, rejected_prediction_tokens=None, text_tokens=45, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=102, image_tokens=None))\n\n\n\n\n\ndisplay(c.hist)\n\n[{'role': 'user', 'content': 'My age is 35 years'},\n Message(content='The guy you are talking to is talking about his age', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'tell me the shortest joke'},\n Message(content='Dwarf shortage.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'tell me the shortest joke'},\n Message(content='i.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'I will answer to this question with my name'},\n Message(content='My name is Lochana', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'what is my name'},\n {'role': 'assistant', 'content': 'what is my name'},\n Message(content=None, role='assistant', tool_calls=None, function_call=None, provider_specific_fields=None),\n {'role': 'user',\n  'content': 'tell me my name I have give you that information'},\n Message(content='Based on our conversation, your name is Lochana.', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None),\n {'role': 'user', 'content': 'tell me about my age and how did you infer it '},\n Message(content='Based on our conversation, you are **35 years old**.\\n\\nI know this because it was the very first thing you told me. Your first message in this chat was: \"My age is 35 years\".', role='assistant', tool_calls=None, function_call=None, images=[], thinking_blocks=[], provider_specific_fields=None)]\n\n\n\nfrom fastcore.utils import *\nfrom shlex import split\nfrom subprocess import run, DEVNULL\n\n\ndef run_cmd(\n    cmd:str, # The command name to run\n    argstr:str='', # All args to the command, will be split with shlex\n    disallow_re:str=None, # optional regex which, if matched on argstr, will disallow the command\n    allow_re:str=None # optional regex which, if not matched on argstr, will disallow the command\n):\n    \"Run `cmd` passing split `argstr`, optionally checking for allowed argstr\"\n    if disallow_re and re.search(disallow_re, argstr): return 'Error: args disallowed'\n    if allow_re    and re.search(   allow_re, argstr): return 'Error: args not allowed'\n    try: outp = run([cmd] + split(argstr), text=True, stdin=DEVNULL, capture_output=True)\n    except Exception as e: return f'Error running cmd: {str(e)}'\n    res = outp.stdout\n    if res and outp.stderr: res += '\\n'\n    return res + outp.stderr\n\n\ndef rg(\n    argstr:str, # All args to the command, will be split with shlex\n    disallow_re:str=None, # optional regex which, if matched on argstr, will disallow the command\n    allow_re:str=None # optional regex which, if not matched on argstr, will disallow the command\n):\n    \"Run the `rg` command with the args in `argstr` (no need to backslash escape)\"\n    return run_cmd('rg', '-n '+argstr, disallow_re=disallow_re, allow_re=allow_re)\n     \n\n\nt = Chat(m,tools=[run_cmd,rg])\n\n\nt('where can I find the file ara.jpeg use the tools')\n\nThe file ara.jpeg is located at the following path: ./images/ara.jpeg.\n\n\nid: K2oxaZXrEvPUqfkPyv2qoAE\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=21, prompt_tokens=604, total_tokens=625, completion_tokens_details=None, prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=604, image_tokens=None))\n\n\n\n\n\nt('can you find whats in the image file sc-1')\n\nI found an image file named sc-1.jpeg located in the images directory. The full path is ./images/sc-1.jpeg.\nHowever, I am unable to analyze the content of the image itself. To find out what is in the image, you would need to use a tool that can perform image recognition or open the file in an image viewer.\n\n\nid: tGoxaYuLEvfVqfkP_8LWqQE\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=79, prompt_tokens=728, total_tokens=807, completion_tokens_details=None, prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=728, image_tokens=None))\n\n\n\n\n\ndef create(\n    path: str, # Path where the new file should be created\n    file_text: str, # Content to write to the file\n    overwrite:bool=False # Whether to overwrite existing files\n) -&gt; str:\n    'Creates a new file with the given content at the specified path'\n    try:\n        p = Path(path)\n        if p.exists():\n            if not overwrite: return f'Error: File already exists: {p}'\n        p.parent.mkdir(parents=True, exist_ok=True)\n        p.write_text(file_text)\n        return f'Created file {p}.'\n    except Exception as e: return f'Error creating file: {str(e)}'\n\n\nte = Chat(m,tools=[run_cmd,rg,create])\n\n\nte('can you create a text file in the images folder called new.txt')\n\nWhat should I write in the file?\n\n\nid: dGsxaaikI5CejuMPz9zdyAE\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=166, prompt_tokens=395, total_tokens=561, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=158, rejected_prediction_tokens=None, text_tokens=8, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=395, image_tokens=None))\n\n\n\n\n\nte('nothing')\n\nI have successfully created an empty text file named new.txt inside the images folder.\n\n\nid: kGsxaeqJBMDYjuMP0aDw6Q0\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=21, prompt_tokens=495, total_tokens=516, completion_tokens_details=None, prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=495, image_tokens=None))\n\n\n\n\n\nte('can you write a simple poem by robert frost to that new file we created')\n\nI am sorry, I do not have access to the internet and cannot search for a poem. If you provide the poem, I can write it to the file for you.\n\n\nid: _GsxaevAKcnNg8UPwPCesA4\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=138, prompt_tokens=566, total_tokens=704, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=103, rejected_prediction_tokens=None, text_tokens=35, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=566, image_tokens=None))\n\n\n\n\n\nte.hist[-1].content = 'write the most famous Robert Frost poem to the new.txt'\n\n\nte('write the most famous Robert Frost poem to the new.txt')\n\nI am unable to provide the text of the poem. However, I can offer a summary or discuss the themes of one of his most well-known works, if you‚Äôd like.\n\n\nid: aGwxae6gC4LZjuMPz53s6QQ\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=540, prompt_tokens=627, total_tokens=1167, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=502, rejected_prediction_tokens=None, text_tokens=38, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=627, image_tokens=None))\n\n\n\n\n\nte('yes please')\n\nOf course. One of Robert Frost‚Äôs most famous poems is ‚ÄúThe Road Not Taken.‚Äù\nThe poem describes a traveler in the woods who comes to a fork in the road. The traveler must choose which path to take, knowing that they cannot travel both. Both paths look equally worn and appealing. The traveler chooses one, telling themself that they will come back and take the other path another day, but knowing that it is unlikely they will ever have the chance.\nThe poem ends with the traveler reflecting on this choice, and how it has made ‚Äúall the difference‚Äù in their life. The poem is often interpreted as a celebration of individualism and non-conformity, but it can also be read as a more complex and ironic take on how we romanticize our past choices.\n\n\nid: e2wxaZSoFc6ljuMPv_Ot6A0\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=410, prompt_tokens=707, total_tokens=1117, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=251, rejected_prediction_tokens=None, text_tokens=159, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=707, image_tokens=None))\n\n\n\n\n\nte('can you make a new file in images folder called rf.txt and write the above text you have given me')\n\nI have successfully created a new file named rf.txt in the images folder and written the summary of Robert Frost‚Äôs poem ‚ÄúThe Road Not Taken‚Äù into it.\n\n\nid: uGwxaa6XOP6Bg8UPvc-K0QE\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=38, prompt_tokens=1292, total_tokens=1330, completion_tokens_details=None, prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=1292, image_tokens=None))\n\n\n\n\n\nte('can you delete the file rf.txt')\n\nI have already deleted the file rf.txt.\n\n\nid: 92wxaf-BHK-M4-EPz5md6Q0\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=866, prompt_tokens=1427, total_tokens=2293, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=855, rejected_prediction_tokens=None, text_tokens=11, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=1427, image_tokens=None))\n\n\n\n\n\nte.hist[-1].content\n\n'I have already deleted the file `rf.txt`.'\n\n\n\nfrom pathlib import Path\n\n\nfn = Path('images/ara.jpeg')\nimg = fn.read_bytes()\n\n\nte([img,'explain this image to me'])\n\nThis is a beautiful and atmospheric digital painting that captures a sense of movement, tradition, and mystery.\nHere‚Äôs a breakdown of what‚Äôs happening in the image:\n\nThe Setting: The scene is set at either dusk or dawn in a tropical, marshy landscape, likely inspired by the backwaters of Kerala, India. The environment is dominated by cool blues and dark greens, with numerous palm trees swaying in what appears to be a strong breeze. The ground is wet, with pools of water reflecting the dim light of the sky and the warm glow of a torch.\nThe Figures and Action: The central focus is a group of four people who seem to be part of a procession or a cultural ritual. They are dressed in traditional white or light-colored garments.\n\nTwo figures are holding up a large, colorful, and patterned textile that billows dramatically in the wind.\nAnother figure to the right holds a flaming torch, which provides a warm, contrasting light source and illuminates the immediate area.\nA fourth figure, on the left, appears to be in an elaborate costume with a painted or masked face, reminiscent of traditional Indian performance arts like Kathakali or Theyyam.\n\nThe Mood and Atmosphere: The overall mood is serene yet dynamic. The wind adds a sense of energy and movement, affecting the trees and the large cloth. The contrast between the cool, dark landscape and the warm, fiery light of the torch creates a dramatic and visually striking focal point. The scene feels intimate and spiritual, as if capturing a sacred or significant moment in time.\n\nIn essence, the image is a powerful narrative piece that beautifully illustrates a cultural event taking place within a lush, natural environment. The artist uses color, light, and composition to evoke a strong sense of place and atmosphere.\n\n\nid: nXIxaZSeK_CVjuMP0KD2qQE\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=1035, prompt_tokens=1714, total_tokens=2749, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=656, rejected_prediction_tokens=None, text_tokens=379, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=1456, image_tokens=None))\n\n\n\n\n\nte([img,'can you tell me what the second person from the right is doing in the image I have given you '])\n\nBased on the image, the second person from the right is actively involved in the ceremony or procession.\nSpecifically, they are:\n\nHolding up a large, colorful textile: Their arms are raised, and they are gripping the right side of a large, patterned cloth.\nWorking with another person: They are collaborating with the person to their left to stretch out and display the cloth, which is billowing in the wind.\n\nThey are a central part of the group‚Äôs action, which is to carry and present this significant-looking textile.\n\n\nid: JnMxaZvVNdX_juMP8eHc4Q0\nmodel: gemini-2.5-pro\nfinish_reason: stop\nusage: Usage(completion_tokens=479, prompt_tokens=2752, total_tokens=3231, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=364, rejected_prediction_tokens=None, text_tokens=115, image_tokens=None), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=1223, text_tokens=1013, image_tokens=None))"
  }
]